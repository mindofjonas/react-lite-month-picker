import{jsxs as e,jsx as t}from"react/jsx-runtime";import{useState as o,useEffect as r}from"react";import n from"./components/MonthPicker/MonthPicker.module.css";import"./components/global.css";import l from"./components/MonthInput/MonthInput.module.css";function i(l){var i,s=o(l.selected.month?l.selected.month-1:(new Date).getMonth()),a=s[0],c=s[1],h=o(null!==(i=l.selected.year)&&void 0!==i?i:(new Date).getFullYear()),m=h[0],d=h[1];r((function(){var e=document.querySelector(":root");e&&(l.bgColorMonthActive&&function(e,t){e.style.setProperty("--month-active-bg-color",t)}(e,l.bgColorMonthActive),l.bgColorMonthHover&&e.style.setProperty("--month-hover-bg-color",l.bgColorMonthHover),l.borderRadiusMonth&&e.style.setProperty("--month-border-radius",l.borderRadiusMonth),l.bgColorPicker&&e.style.setProperty("--picker-bg-color",l.bgColorPicker),l.textColor&&e.style.setProperty("--text-color",l.textColor),"small"==l.size&&(e.style.setProperty("--picker-padding","1rem"),e.style.setProperty("--year-display-margin-top","0.5rem"),e.style.setProperty("--year-display-margin-bottom","0.5rem"),e.style.setProperty("--month-select-padding","0.5rem")))}),[]);var u=function(e){d(e)};return e("div",{className:n.pickerContainer,children:[e("div",{className:n.yearContainer,children:[t("button",{className:n.button,"aria-label":"Previous Year",onClick:function(e){return u(m-1)},children:t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:l.textColor?l.textColor:"#000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-left",children:t("path",{d:"m15 18-6-6 6-6"})})}),t("span",{"aria-description":"Year selected",className:n.bold1,children:m}),t("button",{className:n.button,"aria-label":"Next Year",onClick:function(e){return u(m+1)},children:t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:l.textColor?l.textColor:"#000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-right",children:t("path",{d:"m9 18 6-6-6-6"})})})]}),t("div",{className:n.monthsContainer,children:function(e,t){void 0===e&&(e="en"),void 0===t&&(t="short");var o=new Intl.DateTimeFormat(e,{month:t,timeZone:"UTC"}),r=[1,2,3,4,5,6,7,8,9,10,11,12].map((function(e){var t=e<10?"0".concat(e):e;return new Date("2023-".concat(t,"-01T00:00:00+00:00"))}));return r.map((function(e){return o.format(e)}))}(l.lang).map((function(e,o){return t("button",{className:"".concat(n.month," ").concat(n.button," ").concat(o==a&&l.selected.year==m?n.active:null),onClick:function(e){return function(e){c(e),l.setIsOpen(!1),l.onChange({month:e+1,year:m,monthName:new Date(m,e).toLocaleString(l.lang?l.lang:"en",{month:"long"}),monthShortName:new Date(m,e).toLocaleString(l.lang?l.lang:"en",{month:"short"})})}(o)},children:e},o)}))})]})}function s(o){var n;return r((function(){var e=document.querySelector(":root");e&&(o.bgColor&&e.style.setProperty("--input-bg-color",o.bgColor),o.bgColorHover&&e.style.setProperty("--input-hover-bg-color",o.bgColorHover),o.textColor&&e.style.setProperty("--input-text-color",o.textColor),"small"==o.size&&(e.style.setProperty("--month-input-font-size","16px"),e.style.setProperty("--month-input-width","200px"),e.style.setProperty("--month-input-padding","0.5rem")))}),[]),e("button",{className:l.monthInputField,onClick:function(){return o.setShowMonthPicker(!o.showMonthPicker)},children:[null!==(n=o.selected.monthName)&&void 0!==n?n:(new Date).toLocaleString(o.lang,{month:"long"})," ",o.selected.year,e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"small"==o.size?16:24,height:"small"==o.size?16:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-calendar",children:[t("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),t("line",{x1:"16",x2:"16",y1:"2",y2:"6"}),t("line",{x1:"8",x2:"8",y1:"2",y2:"6"}),t("line",{x1:"3",x2:"21",y1:"10",y2:"10"})]})]})}s.defaultProps={lang:"en-US",size:"large"};export{s as MonthInput,i as MonthPicker};
//# sourceMappingURL=index.js.map
